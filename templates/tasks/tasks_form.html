{% extends 'base.html' %}

{% block title %}{{ form.instance.pk|yesno:"Create,Update" }} Task{% endblock %}

{% block content %}
  <div class="container">
    <h2 class="mt-4">{{ form.instance.pk|yesno:"Create,Update" }} Task</h2>

    <form method="post">
      {% csrf_token %}
      {{ form.as_p }}

      {% if form.instance.pk %}
        <div class="mt-3">
          {% if form.instance.is_complete %}
            <button type="submit" name="action" value="undo" class="btn btn-warning">Undo</button>
          {% else %}
            <button type="submit" name="action" value="complete" class="btn btn-success">Complete</button>
          {% endif %}
        </div>
      {% endif %}
      <button type="submit" class="btn btn-primary">Save</button>
      <a class="btn btn-secondary" href="{% url 'tasks:index' %}">Cancel</a>
    </form>
  </div>
{% endblock %}
